# v6.8.0 Migration Guide

## Breaking Changes

### `CloudforceOne.ThreatEvents`

#### 1. `Delete()` method removed

**What changed:**
The `Delete()` method and associated `ThreatEventDeleteResponse` type have been removed from `CloudforceOne.ThreatEvents`.

**Impact:**
Code that calls `client.CloudforceOne.ThreatEvents.Delete(...)` will no longer compile.

**Before (v6.7.0):**
```go
import (
    cloudflare "github.com/cloudflare/cloudflare-go/v6"
    "github.com/cloudflare/cloudflare-go/v6/cloudforce_one"
    "github.com/cloudflare/cloudflare-go/v6/option"
)

client, _ := cloudflare.NewClient(option.WithAPIToken("..."))

result, err := client.CloudforceOne.ThreatEvents.Delete(
    context.TODO(),
    "event-id",
    cloudforce_one.ThreatEventDeleteParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**After (v6.8.0):**
```go
// Delete() has been removed. This endpoint is no longer available
// via the SDK. Remove any calls to ThreatEvents.Delete().
```

**Actions Needed:**
1. Remove all calls to `client.CloudforceOne.ThreatEvents.Delete(...)`
2. Remove any references to `cloudforce_one.ThreatEventDeleteResponse`
3. Remove any references to `cloudforce_one.ThreatEventDeleteParams`

---

### `SSL.CertificatePacks`

#### 1. `List()` pagination type changed

**What changed:**
`SSL.CertificatePacks.List()` now returns `*pagination.V4PagePaginationArray[CertificatePackListResponse]` instead of `*pagination.SinglePage[CertificatePackListResponse]`.

**Impact:**
Code that stores or processes the result as `*pagination.SinglePage[...]` will no longer compile.

**Before (v6.7.0):**
```go
import (
    cloudflare "github.com/cloudflare/cloudflare-go/v6"
    "github.com/cloudflare/cloudflare-go/v6/option"
    "github.com/cloudflare/cloudflare-go/v6/packages/pagination"
    "github.com/cloudflare/cloudflare-go/v6/ssl"
)

client, _ := cloudflare.NewClient(option.WithAPIToken("..."))

var page *pagination.SinglePage[ssl.CertificatePackListResponse]
page, err := client.SSL.CertificatePacks.List(
    context.TODO(),
    ssl.CertificatePackListParams{
        ZoneID: cloudflare.F("zone-id"),
    },
)
```

**After (v6.8.0):**
```go
import (
    cloudflare "github.com/cloudflare/cloudflare-go/v6"
    "github.com/cloudflare/cloudflare-go/v6/option"
    "github.com/cloudflare/cloudflare-go/v6/packages/pagination"
    "github.com/cloudflare/cloudflare-go/v6/ssl"
)

client, _ := cloudflare.NewClient(option.WithAPIToken("..."))

var page *pagination.V4PagePaginationArray[ssl.CertificatePackListResponse]
page, err := client.SSL.CertificatePacks.List(
    context.TODO(),
    ssl.CertificatePackListParams{
        ZoneID: cloudflare.F("zone-id"),
    },
)
```

**Actions Needed:**
1. Update any variable type annotations from `*pagination.SinglePage[ssl.CertificatePackListResponse]` to `*pagination.V4PagePaginationArray[ssl.CertificatePackListResponse]`
2. The auto-paging interface remains the same; only the concrete type changes

---

### `ZeroTrust.DLP.Datasets`

#### 1. Return types replaced with shared DLP types

**What changed:**
The resource-specific response types have been replaced with shared DLP types.

| Method | Before | After |
|---|---|---|
| `New()` | `*DLPDatasetNewResponse` | `*DatasetCreation` |
| `Update()` | `*DLPDatasetUpdateResponse` | `*Dataset` |
| `Get()` | `*DLPDatasetGetResponse` | `*Dataset` |

**Impact:**
Code that uses the old response types will no longer compile.

**Before (v6.7.0):**
```go
import (
    cloudflare "github.com/cloudflare/cloudflare-go/v6"
    "github.com/cloudflare/cloudflare-go/v6/option"
    "github.com/cloudflare/cloudflare-go/v6/zero_trust"
)

client, _ := cloudflare.NewClient(option.WithAPIToken("..."))

var created *zero_trust.DLPDatasetNewResponse
created, err := client.ZeroTrust.DLP.Datasets.New(
    context.TODO(),
    zero_trust.DLPDatasetNewParams{
        AccountID: cloudflare.F("account-id"),
    },
)

var dataset *zero_trust.DLPDatasetGetResponse
dataset, err = client.ZeroTrust.DLP.Datasets.Get(
    context.TODO(),
    "dataset-id",
    zero_trust.DLPDatasetGetParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**After (v6.8.0):**
```go
import (
    cloudflare "github.com/cloudflare/cloudflare-go/v6"
    "github.com/cloudflare/cloudflare-go/v6/option"
    "github.com/cloudflare/cloudflare-go/v6/zero_trust"
)

client, _ := cloudflare.NewClient(option.WithAPIToken("..."))

var created *zero_trust.DatasetCreation
created, err := client.ZeroTrust.DLP.Datasets.New(
    context.TODO(),
    zero_trust.DLPDatasetNewParams{
        AccountID: cloudflare.F("account-id"),
    },
)

var dataset *zero_trust.Dataset
dataset, err = client.ZeroTrust.DLP.Datasets.Get(
    context.TODO(),
    "dataset-id",
    zero_trust.DLPDatasetGetParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**Actions Needed:**
1. Replace `*zero_trust.DLPDatasetNewResponse` with `*zero_trust.DatasetCreation`
2. Replace `*zero_trust.DLPDatasetUpdateResponse` with `*zero_trust.Dataset`
3. Replace `*zero_trust.DLPDatasetGetResponse` with `*zero_trust.Dataset`
4. Update field accesses to match the new type structures

---

### `ZeroTrust.DLP.Datasets.Upload`

#### 1. Return types replaced with shared DLP types

**What changed:**
The resource-specific response types have been replaced with shared DLP types.

| Method | Before | After |
|---|---|---|
| `New()` | `*DLPDatasetUploadNewResponse` | `*NewVersion` |
| `Edit()` | `*DLPDatasetUploadEditResponse` | `*Dataset` |

**Before (v6.7.0):**
```go
import (
    cloudflare "github.com/cloudflare/cloudflare-go/v6"
    "github.com/cloudflare/cloudflare-go/v6/option"
    "github.com/cloudflare/cloudflare-go/v6/zero_trust"
)

client, _ := cloudflare.NewClient(option.WithAPIToken("..."))

var version *zero_trust.DLPDatasetUploadNewResponse
version, err := client.ZeroTrust.DLP.Datasets.Upload.New(
    context.TODO(),
    "dataset-id",
    zero_trust.DLPDatasetUploadNewParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**After (v6.8.0):**
```go
import (
    cloudflare "github.com/cloudflare/cloudflare-go/v6"
    "github.com/cloudflare/cloudflare-go/v6/option"
    "github.com/cloudflare/cloudflare-go/v6/zero_trust"
)

client, _ := cloudflare.NewClient(option.WithAPIToken("..."))

var version *zero_trust.NewVersion
version, err := client.ZeroTrust.DLP.Datasets.Upload.New(
    context.TODO(),
    "dataset-id",
    zero_trust.DLPDatasetUploadNewParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**Actions Needed:**
1. Replace `*zero_trust.DLPDatasetUploadNewResponse` with `*zero_trust.NewVersion`
2. Replace `*zero_trust.DLPDatasetUploadEditResponse` with `*zero_trust.Dataset`

---

### `ZeroTrust.DLP.Profiles`

#### 1. `Get()` return type replaced with shared `Profile` type

**What changed:**
`Get()` now returns `*Profile` instead of `*DLPProfileGetResponse`.

**Before (v6.7.0):**
```go
var profile *zero_trust.DLPProfileGetResponse
profile, err := client.ZeroTrust.DLP.Profiles.Get(
    context.TODO(),
    "profile-id",
    zero_trust.DLPProfileGetParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**After (v6.8.0):**
```go
var profile *zero_trust.Profile
profile, err := client.ZeroTrust.DLP.Profiles.Get(
    context.TODO(),
    "profile-id",
    zero_trust.DLPProfileGetParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**Actions Needed:**
1. Replace `*zero_trust.DLPProfileGetResponse` with `*zero_trust.Profile`

---

### `ZeroTrust.DLP.Profiles.Custom`

#### 1. Return types replaced with shared `Profile` type

**What changed:**
All three methods now return the shared `*Profile` type instead of per-endpoint response wrappers.

| Method | Before | After |
|---|---|---|
| `New()` | `*DLPProfileCustomNewResponse` | `*Profile` |
| `Update()` | `*DLPProfileCustomUpdateResponse` | `*Profile` |
| `Get()` | `*DLPProfileCustomGetResponse` | `*Profile` |

**Before (v6.7.0):**
```go
var created *zero_trust.DLPProfileCustomNewResponse
created, err := client.ZeroTrust.DLP.Profiles.Custom.New(
    context.TODO(),
    zero_trust.DLPProfileCustomNewParams{
        AccountID: cloudflare.F("account-id"),
    },
)

var profile *zero_trust.DLPProfileCustomGetResponse
profile, err = client.ZeroTrust.DLP.Profiles.Custom.Get(
    context.TODO(),
    "profile-id",
    zero_trust.DLPProfileCustomGetParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**After (v6.8.0):**
```go
var created *zero_trust.Profile
created, err := client.ZeroTrust.DLP.Profiles.Custom.New(
    context.TODO(),
    zero_trust.DLPProfileCustomNewParams{
        AccountID: cloudflare.F("account-id"),
    },
)

var profile *zero_trust.Profile
profile, err = client.ZeroTrust.DLP.Profiles.Custom.Get(
    context.TODO(),
    "profile-id",
    zero_trust.DLPProfileCustomGetParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**Actions Needed:**
1. Replace `*zero_trust.DLPProfileCustomNewResponse` with `*zero_trust.Profile`
2. Replace `*zero_trust.DLPProfileCustomUpdateResponse` with `*zero_trust.Profile`
3. Replace `*zero_trust.DLPProfileCustomGetResponse` with `*zero_trust.Profile`

---

### `ZeroTrust.DLP.Profiles.Predefined`

#### 1. Return types replaced with shared `PredefinedProfile` type

**What changed:**
Both methods now return the shared `*PredefinedProfile` type instead of per-endpoint response wrappers.

| Method | Before | After |
|---|---|---|
| `Update()` | `*DLPProfilePredefinedUpdateResponse` | `*PredefinedProfile` |
| `Get()` | `*DLPProfilePredefinedGetResponse` | `*PredefinedProfile` |

**Before (v6.7.0):**
```go
var profile *zero_trust.DLPProfilePredefinedGetResponse
profile, err := client.ZeroTrust.DLP.Profiles.Predefined.Get(
    context.TODO(),
    "profile-id",
    zero_trust.DLPProfilePredefinedGetParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**After (v6.8.0):**
```go
var profile *zero_trust.PredefinedProfile
profile, err := client.ZeroTrust.DLP.Profiles.Predefined.Get(
    context.TODO(),
    "profile-id",
    zero_trust.DLPProfilePredefinedGetParams{
        AccountID: cloudflare.F("account-id"),
    },
)
```

**Actions Needed:**
1. Replace `*zero_trust.DLPProfilePredefinedUpdateResponse` with `*zero_trust.PredefinedProfile`
2. Replace `*zero_trust.DLPProfilePredefinedGetResponse` with `*zero_trust.PredefinedProfile`
